<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±äº¬å†¬æ—¥ç«¥è©±ï¼šæˆ‘å€‘çš„æµªæ¼«å¥‡é‡ âœ¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #FFB7C5;
            --magic-blue: #A0D8EF;
            --gold-accent: #FFD700;
            --text-color: #555;
            --white: #ffffff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #FFF0F5;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            background-image: url('data:image/svg+xml;utf8,<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="2" r="1" fill="%23FFB7C5"/></svg>');
        }

        header {
            background: linear-gradient(135deg, var(--primary-pink), var(--magic-blue));
            color: white;
            text-align: center;
            padding: 3rem 1rem;
            border-bottom-left-radius: 50% 20px;
            border-bottom-right-radius: 50% 20px;
            box-shadow: 0 4px 15px rgba(255, 183, 197, 0.5);
        }

        h1 {
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            margin-top: 10px;
            font-weight: bold;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .section-title {
            text-align: center;
            color: var(--primary-pink);
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            position: relative;
        }

        .section-title::before, .section-title::after {
            content: 'âœ¨';
            margin: 0 10px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 2px solid var(--magic-blue);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-pink);
        }

        .date-badge {
            background-color: var(--primary-pink);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }

        .highlight {
            color: #FF69B4;
            font-weight: bold;
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 10px 20px;
            border: 2px solid var(--magic-blue);
            background: white;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            color: var(--magic-blue);
        }

        .tab-btn.active {
            background: var(--magic-blue);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* æœå°‹åŠŸèƒ½æ¨£å¼ */
        .search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-container input {
            flex: 1;
            padding: 10px;
            border: 2px solid var(--magic-blue);
            border-radius: 10px;
            font-size: 1rem;
        }

        .search-container button {
            padding: 10px 20px;
            background: var(--magic-blue);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        .map-item {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 5px solid var(--magic-blue);
        }

        .map-tag {
            background: #eee;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            margin-right: 5px;
            display: inline-block;
        }

        .tag-gacha { background: #ffe4e1; color: #d63384; }
        .tag-anime { background: #e0f7fa; color: #00838f; }

        /* è¨˜å¸³åŠŸèƒ½æ¨£å¼ */
        .expense-form {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr auto;
            gap: 10px;
            margin-bottom: 10px;
        }

        .form-row input, .form-row select {
            padding: 8px;
            border: 2px solid var(--magic-blue);
            border-radius: 8px;
            font-size: 0.95rem;
        }

        .form-row button {
            padding: 8px 15px;
            background: var(--primary-pink);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .expense-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .expense-item {
            background: white;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid var(--magic-blue);
        }

        .expense-item.delete-mode {
            background: #ffe4e1;
        }

        .expense-delete {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .summary {
            background: linear-gradient(135deg, var(--primary-pink), var(--magic-blue));
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
        }

        .summary h3 {
            margin: 0 0 10px 0;
            font-size: 1.2rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }

        .summary-item {
            flex: 1;
            min-width: 150px;
        }

        .summary-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .summary-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .tips {
            background-color: #F0F8FF;
            padding: 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            margin-top: 10px;
            border-left: 5px solid var(--magic-blue);
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: #888;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr 1fr;
            }
            .summary-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸ° æ±äº¬å†¬æ—¥ç«¥è©±ä¹‹æ—…</h1>
    <div class="subtitle">2025.12.10 - 12.16 â„ï¸ æˆ‘å€‘çš„ä¸ƒæ—¥æµªæ¼«ç´„å®š</div>
    <p>Couple's Winter Adventure</p>
</header>

<div class="container">

    <div class="card">
        <h3 style="text-align: center;">âœˆï¸ å¹¸ç¦å•Ÿç¨‹ & æº«é¦¨å°çª©</h3>
        <p><strong>ğŸ’– æˆ‘å€‘çš„èˆªç­ (China Airlines)ï¼š</strong></p>
        <ul>
            <li>å»ç¨‹ (12/10): CI126 é«˜é›„ 13:05 â” æ±äº¬æˆç”° 17:25 </li>
            <li>å›ç¨‹ (12/16): CI127 æ±äº¬æˆç”° 18:25 â” é«˜é›„ 22:05 </li>
        </ul>
        <p><strong>ğŸ  ç”œèœœåŸºåœ°ï¼š</strong></p>
        <ul>
            <li>åœ°é»ï¼šç‘ç´¢çˆ¾ç§‹è‘‰åŸé£¯åº— (Hotel Resol Akihabara) </li>
            <li>å‚™è¨»ï¼šä½æ–¼ç§‹è‘‰åŸä¸­å¿ƒï¼Œäº¤é€šè¶…æ–¹ä¾¿ï¼</li>
        </ul>
    </div>

    <!-- åœ°åœ–æœå°‹æ¨™ç±¤ -->
    <div style="margin: 30px 0;">
        <div class="tab-buttons" style="justify-content: center;">
            <button class="tab-btn active" onclick="switchTab('itinerary')">ğŸ“… è¡Œç¨‹</button>
            <button class="tab-btn" onclick="switchTab('gashapon')">ğŸ æ‰­è›‹åœ°åœ–</button>
            <button class="tab-btn" onclick="switchTab('anime')">ğŸ¨ å‹•æ¼«åœ°åœ–</button>
            <button class="tab-btn" onclick="switchTab('expense')">ğŸ’° æ—…ç¨‹è¨˜å¸³</button>
        </div>
    </div>

    <!-- è¡Œç¨‹æ¨™ç±¤ -->
    <div id="itinerary" class="tab-content active">
        <h2 class="section-title">æˆ‘å€‘çš„é­”æ³•æ—¥è¨˜</h2>

        <div class="card">
            <span class="date-badge">Day 1 (12/10)</span> <span class="highlight">éƒ½æœƒåºç« ï¼šåˆè¦‹æ±äº¬</span>
            <div class="itinerary-item">
                <span class="time">17:25</span>
                <div class="content">é™è½æˆç”°æ©Ÿå ´ï¼Œå¿ƒè·³åŠ é€Ÿçš„é–‹å§‹ï¼</div>
            </div>
            <div class="itinerary-item">
                <span class="time">18:40</span>
                <div class="content">æ­ä¹˜å¸¥æ°£çš„ <strong>Keisei Skyliner</strong> ç›´å¥”å¸‚å€ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">19:37</span>
                <div class="content">å…¥ä½é£¯åº—ï¼Œæ”¾å¥½è¡Œæã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">20:30</span>
                <div class="content">å¤œéŠä¸Šé‡é˜¿ç¾æ©«ç”ºï¼Œæ„Ÿå—ç†±é¬§æ°£æ°›èˆ‡è—¥å¦åº—å°‹å¯¶ã€‚</div>
            </div>
        </div>

        <div class="card" style="border-color: #FFD700; background: #fffdf0;">
            <span class="date-badge" style="background: #FFD700;">Day 2 (12/11)</span> <span class="highlight">é­”æ³•ç‹åœ‹ï¼šè¿ªå£«å°¼å…¨æ—¥å¤¢å¹»</span>
            <p>âœ¨ é‡é»ä»»å‹™ï¼šé«”é©—å¾æ—©åˆ°æ™šçš„å®Œæ•´é­”æ³•ï¼</p>
            <div class="itinerary-item">
                <span class="time">08:00</span>
                <div class="content">å…¥åœ’è¡åˆºï¼ç”¨ App æ¶ã€Œç¾å¥³èˆ‡é‡ç¸ã€DPAï¼Œé€™æ˜¯ä¸€å®šè¦å’Œä½ ä¸€èµ·çœ‹çš„æµªæ¼«åŸå ¡ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">13:00</span>
                <div class="content">è§€è³æ—¥é–“éŠè¡Œã€Œè¿ªå£«å°¼çœ¾å½©äº¤èã€ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">ä¸‹åˆ</span>
                <div class="content">ä¸€èµ·åƒä¸‰çœ¼æ€ªéº»ç³¬ã€ç…™ç‡»ç«é›è…¿ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">19:15</span>
                <div class="content">å¤œé–“é›»å­å¤§éŠè¡Œã€Œå¤¢ä¹‹å…‰ã€ï¼Œé»äº®æˆ‘å€‘çš„å¤œæ™šã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">20:30</span>
                <div class="content">åŸå ¡ç…™ç«ç§€ã€Œè¿ªå£«å°¼ç‚«å½©å¤œç©ºã€ï¼Œç‚ºé€™ä¸€å¤©ç•«ä¸‹å®Œç¾å¥é» ğŸ† ã€‚</div>
            </div>
        </div>

        <div class="card">
            <span class="date-badge">Day 3 (12/12)</span> <span class="highlight">ä¸‹ç”ºæš®å…‰ï¼šæ™´ç©ºå¡”è–èª•å¤œ</span>
            <div class="itinerary-item">
                <span class="time">æ—©æ™¨</span>
                <div class="content">åƒæ‹œç¥ç”°ç¥ç¤¾ã€è¢«å®˜ç¨»è·ç¥ç¤¾ï¼Œç¥ˆæ±‚å¥½é‹ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">åˆé–“</span>
                <div class="content">æ¼«æ­¥æ·ºè‰å¯ºï¼Œåœ¨ä»²è¦‹ä¸–é€šåƒç‚¸è‚‰é¤…ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">18:15</span>
                <div class="content"><strong>é‡é ­æˆ²ï¼šæ™´ç©ºå¡”ã€Œå¤¢å¹»è–èª•2025ã€</strong> ğŸ„<br>ä¸€èµ·é€›å¾·åœ‹é¢¨è–èª•å¸‚é›†å–ç†±ç´…é…’ï¼Œæ¬£è³4æ¨“å»£å ´çš„å…‰é›•æŠ•å½±ç§€ã€‚</div>
            </div>
        </div>

        <div class="card">
            <span class="date-badge">Day 4 (12/13)</span> <span class="highlight">å¸éƒ½å°è¨˜ï¼šå‘½é‹çš„ç´…ç·š</span>
            <div class="itinerary-item">
                <span class="time">ä¸Šåˆ</span>
                <div class="content">æ•£æ­¥çš‡å±…æ±å¾¡è‹‘ï¼Œäº«å—çš‡å®¶èŠ±åœ’çš„å¯§éœã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">åˆå¾Œ</span>
                <div class="content">å°‹æ‰¾ã€Šä½ çš„åå­—ã€‚ã€‹å ´æ™¯ï¼Œåœ¨æ±äº¬è»Šç«™æ„Ÿå—é›»å½±è£¡çš„æ™‚ç©ºäº¤éŒ¯ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">æ™šé–“</span>
                <div class="content"><strong>ä¸¸ä¹‹å…§å½©ç‡ˆç¯€</strong> âœ¨<br>120è¬é¡†é¦™æª³é‡‘ LED ç‡ˆæµ·ï¼Œé€™æ˜¯æ±äº¬æœ€æµªæ¼«çš„é‡‘è‰²å¤§é“ã€‚</div>
            </div>
        </div>

        <div class="card">
            <span class="date-badge">Day 5 (12/14)</span> <span class="highlight">éƒ½æœƒç•«å¸ƒï¼šè—è‰²ç‡ˆæµ·èˆ‡åå ´æ™¯</span>
            <div class="itinerary-item">
                <span class="time">å…¨æ—¥</span>
                <div class="content">å·¡ç¦®ã€Šä½ çš„åå­—ã€‚ã€‹ï¼šé ˆè³€ç¥ç¤¾éšæ¢¯ï¼ˆé‚£å€‹å›çœ¸ï¼ï¼‰ã€ä¿¡æ¿ƒç”ºå¤©æ©‹ ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">17:30</span>
                <div class="content">æ±äº¬éƒ½å»³å…‰é›•æŠ•å½±ç§€ (TOKYO Night & Light)ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">å¤œæ™š</span>
                <div class="content"><strong>é’ä¹‹æ´çªŸ SHIBUYA</strong> ğŸ’™<br>æ¼«æ­¥åœ¨ä»£ä»£æœ¨å…¬åœ’åˆ°æ¾€è°·çš„è—è‰²éŠ€æ²³éš§é“ä¸­ã€‚</div>
            </div>
        </div>

        <div class="card">
            <span class="date-badge">Day 6 (12/15)</span> <span class="highlight">è²“ç·£å¥‡é‡ï¼šæ‹›ç¦èˆ‡å¥¢è¯å¤œæ™¯</span>
            <div class="itinerary-item">
                <span class="time">07:45</span>
                <div class="content">å‰å¾€è±ªå¾·å¯ºï¼Œè¢«æ»¿æ»¿çš„æ‹›ç¦è²“ç™‚ç™’ (è½èªªèƒ½æ‹›ä¾†è‰¯ç·£å–”) ğŸ±ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">ä¸Šåˆ</span>
                <div class="content">ä¸–ç”°è°·ç™¾å¹´å¸‚é›† (Boro-ichi)ï¼Œä¸€èµ·åœ¨è·³èš¤å¸‚å ´å°‹å¯¶ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">æ™šé–“</span>
                <div class="content">å…­æœ¬æœ¨ä¹‹å¤œï¼šæ¬£è³æ«¸æœ¨å‚ SNOW & BLUE ç‡ˆé£¾ï¼Œä»¥åŠæ±äº¬ä¸­åŸçš„å¤¢å¹»å…‰å½±èŠ±åœ’ã€‚</div>
            </div>
        </div>

        <div class="card">
            <span class="date-badge">Day 7 (12/16)</span> <span class="highlight">æ»¿è¼‰è€Œæ­¸ï¼šæœ€å¾Œçš„è¡åˆº</span>
            <div class="itinerary-item">
                <span class="time">ä¸Šåˆ</span>
                <div class="content">ç§‹è‘‰åŸèˆ‡ä¸Šé‡æœ€å¾Œæ¡è³¼ï¼å”å‰è¨¶å¾·ã€Yamashiroya ç©å…·åº—æƒè²¨ã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">14:50</span>
                <div class="content">æŠµé”æˆç”°æ©Ÿå ´ï¼Œå» Nintendo Check In å€åŸŸæ‹ç…§ç•™å¿µã€‚</div>
            </div>
            <div class="itinerary-item">
                <span class="time">18:25</span>
                <div class="content">æ­æ©Ÿè¿”èˆªï¼Œå¸¶è‘—æ»¿æ»¿çš„å›æ†¶å›å®¶ã€‚</div>
            </div>
        </div>
    </div>

    <!-- æ‰­è›‹åœ°åœ–æœå°‹ -->
    <div id="gashapon" class="tab-content">
        <h2 class="section-title">ğŸ æ‰­è›‹åœ°åœ–æœå°‹</h2>
        <div class="card">
            <div class="search-container">
                <input type="text" id="gashaponSearch" placeholder="æœå°‹æ‰­è›‹åº— (å¦‚ï¼šç§‹è‘‰åŸã€æ¾€è°·ã€æ± è¢‹)..." />
                <button onclick="searchGashapon()">ğŸ” æœå°‹</button>
            </div>
            <div id="gashaponResults"></div>
            <a href="https://bandainamco-am.co.jp/zh-CHT/others/capsule-toy-store/" target="_blank" style="display: inline-block; margin-top: 15px; padding: 10px 15px; background: var(--magic-blue); color: white; text-decoration: none; border-radius: 8px;">
                ğŸ“± å®˜æ–¹æ‰­è›‹åœ°åœ–
            </a>
        </div>
    </div>

    <!-- å‹•æ¼«åœ°åœ–æœå°‹ -->
    <div id="anime" class="tab-content">
        <h2 class="section-title">ğŸ¨ å‹•æ¼«è–åœ°åœ°åœ–</h2>
        <div class="card">
            <div class="search-container">
                <input type="text" id="animeSearch" placeholder="æœå°‹å‹•æ¼«åœ°é» (å¦‚ï¼šæ¾€è°·ã€ç§‹è‘‰åŸã€æ–°å®¿)..." />
                <button onclick="searchAnime()">ğŸ” æœå°‹</button>
            </div>
            <div id="animeResults"></div>
            <a href="https://www.anitabi.cn/map" target="_blank" style="display: inline-block; margin-top: 15px; padding: 10px 15px; background: var(--primary-pink); color: white; text-decoration: none; border-radius: 8px;">
                ğŸ“± Anitabi å‹•æ¼«æ—…éŠåœ°åœ–
            </a>
        </div>
    </div>

    <!-- è¨˜å¸³åŠŸèƒ½ -->
    <div id="expense" class="tab-content">
        <h2 class="section-title">ğŸ’° æ—…ç¨‹è¨˜å¸³æœ¬</h2>
        <div class="card">
            <div class="expense-form">
                <h3 style="margin-top: 0;">æ–°å¢é–‹æ”¯</h3>
                <div class="form-row">
                    <input type="date" id="expenseDate" required />
                    <input type="number" id="expenseAmount" placeholder="é‡‘é¡ (TWD)" min="0" step="1" required />
                    <input type="text" id="expenseDesc" placeholder="é …ç›® (å¦‚ï¼šæ™šé¤ã€é–€ç¥¨)" required />
                    <button onclick="addExpense()">â• è¨˜å¸³</button>
                </div>
            </div>

            <div class="expense-list" id="expenseList"></div>

            <div class="summary">
                <h3>æ—…ç¨‹è²¡å‹™ç¸½çµ</h3>
                <div class="summary-row">
                    <div class="summary-item">
                        <div class="summary-label">ç¸½æ”¯å‡º</div>
                        <div class="summary-value">$ <span id="totalExpense">0</span></div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">å¹³å‡æ¯æ—¥</div>
                        <div class="summary-value">$ <span id="avgExpense">0</span></div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">é …ç›®æ•¸</div>
                        <div class="summary-value"><span id="expenseCount">0</span></div>
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <button onclick="clearAllExpenses()" style="padding: 8px 15px; background: rgba(255,255,255,0.3); color: white; border: 2px solid white; border-radius: 8px; cursor: pointer; font-weight: bold;">ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰è¨˜éŒ„</button>
                </div>
            </div>
        </div>
    </div>

</div>

<footer>
    <p>Made with â¤ï¸ for our Tokyo Trip.<br>
    è³‡æ–™ä¾†æºï¼šTokyo_Winter_Mission_Briefing.pdf</p>
</footer>

<script>
    // æ‰­è›‹åœ°é»è³‡æ–™
    const gashaponLocations = {
        'ç§‹è‘‰åŸ': [
            { name: 'Akihabara Gachapon Kaikan', desc: 'ç´„400å°æ©Ÿå™¨ï¼Œæ°£æ°›è¶…å¾©å¤', area: 'ç§‹è‘‰åŸ' },
            { name: 'Gashapon Department Store (Namco 4F)', desc: 'æ©Ÿå™¨è¼ƒæ–°ï¼Œå°±åœ¨é£¯åº—é™„è¿‘', area: 'ç§‹è‘‰åŸ' }
        ],
        'æ±äº¬è»Šç«™': [
            { name: 'Tokyo Gashapon Street (æ±äº¬ä¸€ç•ªè¡— B1)', desc: 'å°ˆé–€çš„æ‰­è›‹è¡—ï¼Œç¨®é¡è¶…å¤š', area: 'æ±äº¬è»Šç«™' }
        ],
        'æ¾€è°·': [
            { name: '#C-pla æ¾€è°·ä¸­å¿ƒè¡—', desc: 'æ¾€è°·çš„å¤§å‹æ‰­è›‹å°ˆè³£åº—', area: 'æ¾€è°·' }
        ],
        'æ–°å®¿': [
            { name: 'Gachagacha no Mori (æ–°å®¿ Subnade)', desc: 'æ–°å®¿æ±å£åœ°ä¸‹è¡—ï¼Œè¶…é1000å°', area: 'æ–°å®¿' }
        ],
        'æ± è¢‹': [
            { name: 'Gashapon Department Store (Sunshine City)', desc: 'é‡‘æ°ä¸–ç•Œç´€éŒ„èªè­‰ã€Œä¸–ç•Œæœ€å¤§ã€ï¼Œ3000å°æ©Ÿå™¨ï¼', area: 'æ± è¢‹' }
        ]
    };

    // å‹•æ¼«åœ°é»è³‡æ–™
    const animeLocations = {
        'ç§‹è‘‰åŸ': [
            { name: 'Animate ç§‹è‘‰åŸæœ¬é¤¨', desc: 'å°±åœ¨ä¸­å¤®é€šï¼Œå‘¨é‚Šå•†å“æœ€é½Šå…¨', area: 'ç§‹è‘‰åŸ' }
        ],
        'æ±äº¬è»Šç«™': [
            { name: 'Tokyo Character Street', desc: 'å‰åœåŠ›ã€å¯¶å¯å¤¢ã€Jump Shop éƒ½åœ¨é€™ä¸€æ¢è¡—', area: 'æ±äº¬è»Šç«™' }
        ],
        'æ¾€è°·': [
            { name: 'Shibuya PARCO (6F)', desc: 'ä»»å¤©å ‚æ——è‰¦åº—ã€å¯¶å¯å¤¢ä¸­å¿ƒã€Jump Shop', area: 'æ¾€è°·' }
        ],
        'æ–°å®¿': [
            { name: 'Nintendo TOKYO æ——è‰¦åº—', desc: 'ä»»å¤©å ‚å®˜æ–¹æ——è‰¦åº—', area: 'æ–°å®¿' }
        ],
        'æ± è¢‹': [
            { name: 'Animate æ± è¢‹æœ¬åº—', desc: 'ä¸–ç•Œæœ€å¤§å‹•æ¼«å•†åº—ï¼Œå¥³æ€§å‘å•†å“ç‰¹åˆ¥è±å¯Œ', area: 'æ± è¢‹' }
        ]
    };

    // æ¨™ç±¤åˆ‡æ›
    function switchTab(tab) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        document.getElementById(tab).classList.add('active');
        event.target.classList.add('active');
    }

    // æœå°‹æ‰­è›‹
    function searchGashapon() {
        const keyword = document.getElementById('gashaponSearch').value.trim();
        const resultsDiv = document.getElementById('gashaponResults');
        resultsDiv.innerHTML = '';

        if (!keyword) {
            resultsDiv.innerHTML = '<p style="color: #999;">è«‹è¼¸å…¥æœå°‹é—œéµå­—</p>';
            return;
        }

        let found = false;
        for (const [area, locations] of Object.entries(gashaponLocations)) {
            if (area.includes(keyword) || keyword === '') {
                locations.forEach(loc => {
                    const item = document.createElement('div');
                    item.className = 'map-item';
                    item.innerHTML = `
                        <div><strong>ğŸ“ ${loc.name}</strong></div>
                        <div style="margin-top: 5px;">${loc.desc}</div>
                        <div style="margin-top: 8px;"><span class="map-tag tag-gacha">æ‰­è›‹</span></div>
                    `;
                    resultsDiv.appendChild(item);
                    found = true;
                });
            }
        }

        if (!found) {
            resultsDiv.innerHTML = '<p style="color: #999;">æ‰¾ä¸åˆ°ç›¸é—œåœ°é»ï¼Œè©¦è©¦çœ‹å…¶ä»–é—œéµå­—ï¼</p>';
        }
    }

    // æœå°‹å‹•æ¼«
    function searchAnime() {
        const keyword = document.getElementById('animeSearch').value.trim();
        const resultsDiv = document.getElementById('animeResults');
        resultsDiv.innerHTML = '';

        if (!keyword) {
            resultsDiv.innerHTML = '<p style="color: #999;">è«‹è¼¸å…¥æœå°‹é—œéµå­—</p>';
            return;
        }

        let found = false;
        for (const [area, locations] of Object.entries(animeLocations)) {
            if (area.includes(keyword) || keyword === '') {
                locations.forEach(loc => {
                    const item = document.createElement('div');
                    item.className = 'map-item';
                    item.innerHTML = `
                        <div><strong>ğŸ“ ${loc.name}</strong></div>
                        <div style="margin-top: 5px;">${loc.desc}</div>
                        <div style="margin-top: 8px;"><span class="map-tag tag-anime">å‹•æ¼«</span></div>
                    `;
                    resultsDiv.appendChild(item);
                    found = true;
                });
            }
        }

        if (!found) {
            resultsDiv.innerHTML = '<p style="color: #999;">æ‰¾ä¸åˆ°ç›¸é—œåœ°é»ï¼Œè©¦è©¦çœ‹å…¶ä»–é—œéµå­—ï¼</p>';
        }
    }

    // è¨˜å¸³ç›¸é—œå‡½æ•¸
    let expenses = [];

    function addExpense() {
        const date = document.getElementById('expenseDate').value;
        const amount = parseFloat(document.getElementById('expenseAmount').value);
        const desc = document.getElementById('expenseDesc').value.trim();

        if (!date || !amount || !desc) {
            alert('è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½');
            return;
        }

        expenses.push({ date, amount, desc, id: Date.now() });
        document.getElementById('expenseDate').value = '';
        document.getElementById('expenseAmount').value = '';
        document.getElementById('expenseDesc').value = '';

        updateExpenseDisplay();
    }

    function deleteExpense(id) {
        expenses = expenses.filter(e => e.id !== id);
        updateExpenseDisplay();
    }

    function updateExpenseDisplay() {
        const listDiv = document.getElementById('expenseList');
        listDiv.innerHTML = '';

        const sortedExpenses = [...expenses].sort((a, b) => new Date(a.date) - new Date(b.date));

        sortedExpenses.forEach(exp => {
            const item = document.createElement('div');
            item.className = 'expense-item';
            item.innerHTML = `
                <div>
                    <strong>${exp.desc}</strong><br>
                    <span style="font-size: 0.85rem; color: #888;">${exp.date} | $ ${exp.amount}</span>
                </div>
                <button class="expense-delete" onclick="deleteExpense(${exp.id})">åˆªé™¤</button>
            `;
            listDiv.appendChild(item);
        });

        const total = expenses.reduce((sum, e) => sum + e.amount, 0);
        const days = new Set(expenses.map(e => e.date)).size || 1;
        const avg = days > 0 ? Math.round(total / days) : 0;

        document.getElementById('totalExpense').textContent = total.toLocaleString();
        document.getElementById('avgExpense').textContent = avg.toLocaleString();
        document.getElementById('expenseCount').textContent = expenses.length;
    }

    function clearAllExpenses() {
        if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è¨˜éŒ„å—ï¼Ÿ')) {
            expenses = [];
            updateExpenseDisplay();
        }
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
        updateExpenseDisplay();
    });
</script>

</body>
</html>
